(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-charge_upload"],{"13b3":function(t,a,e){var i=e("c86c");a=i(!1),a.push([t.i,".popup[data-v-20f8b894]{width:85vw}",""]),t.exports=a},"2ee5":function(t,a,e){var i=e("13b3");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var n=e("967d").default;n("af6bc78e",i,!0,{sourceMap:!1,shadowMode:!1})},"342c":function(t,a,e){t.exports=e.p+"static/icon/copy.png"},"6dba":function(t,a,e){"use strict";e.d(a,"b",(function(){return n})),e.d(a,"c",(function(){return c})),e.d(a,"a",(function(){return i}));var i={uniPopup:e("fe36").default},n=function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("v-uni-view",[i("cu-custom",{attrs:{bgColor:"bg-purple",isBack:"true"}},[i("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.currentLanguage.userCharge))])],2),i("v-uni-view",{staticClass:"cu-form-group margin-top",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.PickerChange.apply(void 0,arguments)}}},[i("v-uni-view",{staticClass:"title"},[t._v("BankType")]),i("v-uni-view",{staticClass:"picker flex-row justify-center align-center",staticStyle:{width:"auto"}},[i("v-uni-image",{staticStyle:{width:"38px",height:"38px","border-radius":"50%"},attrs:{src:"/static/icon/"+t.currentBank+".jpg"}}),i("v-uni-text",{staticClass:"margin-left-sm"},[t._v(t._s(t.currentBank))])],1)],1),t.backAccount?i("v-uni-view",{staticClass:"flex-column bg-white padding-sm"},[i("v-uni-text",{staticClass:"text-bold margin-tb-sm"},[t._v(t._s(t.currentLanguage["Please recharge to this account"]))]),i("v-uni-view",{staticClass:"text-bold margin-tb-sm flex-row align-center justify-center ",staticStyle:{"font-size":"18px",color:"#eb2c01"}},[i("v-uni-text",[t._v(t._s(t.backName))])],1),i("v-uni-view",{staticClass:"text-bold margin-tb-sm flex-row align-center justify-center ",staticStyle:{"font-size":"18px",color:"#eb2c01"}},[i("v-uni-text",[t._v(t._s(t.backAccount))]),i("v-uni-image",{staticStyle:{width:"38rpx",height:"38rpx","margin-left":"8px","margin-bottom":"2px"},attrs:{src:e("342c")},on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copy.apply(void 0,arguments)}}})],1)],1):t._e(),i("v-uni-view",{staticClass:"padding flex flex-wrap justify-between align-center bg-white"},[i("v-uni-button",{staticClass:"cu-btn round lg",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.chooseImage()}}},[t._v(t._s(t.currentLanguage.pictureUpload))]),i("v-uni-button",{staticClass:"cu-btn round lg bg-red",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.chargeSubmit()}}},[t._v(t._s(t.currentLanguage.upload))])],1),i("v-uni-form",[i("v-uni-view",{staticClass:"cu-form-group margin-top"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.currentLanguage["Transaction ID"])+":")]),i("v-uni-input",{attrs:{disabled:!0},model:{value:t.form.transaction_id,callback:function(a){t.$set(t.form,"transaction_id",a)},expression:"form.transaction_id"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.currentLanguage.time)+":")]),i("v-uni-input",{attrs:{disabled:!0},model:{value:t.form.create_time,callback:function(a){t.$set(t.form,"create_time",a)},expression:"form.create_time"}})],1),i("v-uni-view",{staticClass:"cu-form-group"},[i("v-uni-view",{staticClass:"title"},[t._v(t._s(t.currentLanguage.amount)+":")]),i("v-uni-input",{attrs:{disabled:!0},model:{value:t.form.amount,callback:function(a){t.$set(t.form,"amount",a)},expression:"form.amount"}})],1)],1),i("uni-popup",{ref:"popup",attrs:{type:"center"}},[i("v-uni-view",{staticClass:"popup"},[i("v-uni-view",{staticClass:"text-center text-bold bg-red border",staticStyle:{"border-radius":"13px 13px 0 0",height:"46px","line-height":"46px"}},[t._v("Bank")]),i("v-uni-view",{staticClass:"bg-white",staticStyle:{"padding-top":"10px"}},t._l(t.bankOptions,(function(a){return i("v-uni-view",{staticClass:"flex-row justify-around align-center padding-xs",staticStyle:{"border-bottom":"1px solid #F2F2F2"},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.setBank(a)}}},[i("v-uni-radio",{class:a==t.currentBank?"checked":"",attrs:{checked:a==t.currentBank}}),i("v-uni-image",{staticStyle:{width:"38px",height:"38px","border-radius":"50%"},attrs:{src:"/static/icon/"+a+".jpg"}}),i("v-uni-view",{staticClass:"text-bold",staticStyle:{width:"50%"}},[t._v(t._s(a))])],1)})),1),i("v-uni-view",{staticClass:"cu-bar ",staticStyle:{"background-color":"#F2F2F2"}},[i("v-uni-view",{staticClass:"action justify-center flex-row",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.close.apply(void 0,arguments)}}},[t._v("OK")])],1)],1)],1),i("v-uni-image",{staticStyle:{width:"100vw",height:"calc(100vh - 45px - 76px - 32px)"},attrs:{src:t.imagePath,mode:"aspectFit"}})],1)},c=[]},"73d5":function(t,a,e){"use strict";e("6a54");var i=e("f5bd").default;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0,e("d4b5");var n=i(e("ee47")),c=(i(e("fb71")),{data:function(){return{form:{transaction_id:"",create_time:"",amount:0},backAccount:"",backName:"",imagePath:"",currentLanguage:n.default.language,currentBank:"KBZ",bankOptions:["KBZ","WaveMoney"]}},methods:{setBank:function(t){this.currentBank=t},close:function(){this.$refs.popup.close(),this.getActiveBankCard()},PickerChange:function(){this.$refs.popup.open()},copy:function(){uni.setClipboardData({data:this.backAccount,success:function(){uni.showToast({title:"copy success"})}})},chooseImage:function(){var t=this;uni.chooseImage({count:6,sizeType:["original","compressed"],sourceType:["album"],success:function(a){console.log(JSON.stringify(a.tempFilePaths)),t.imagePath=a.tempFilePaths[0],t.uploadImage()}})},uploadImage:function(){var t=this,a=t.$http.baseUrl;uni.showLoading({title:"loadding..."}),uni.uploadFile({url:a+"/charge/order_image",filePath:t.imagePath,name:"image",header:{Authorization:uni.getStorageSync("Authorization")},success:function(a){a.data=JSON.parse(a.data),2e4==a.data.code&&(uni.hideLoading(),t.form.transaction_id=a.data.transaction_id,t.form.amount=a.data.amount,t.form.create_time=a.data.create_time)}})},getActiveBankCard:function(){var t=this,a={bank_code:t.currentBank};t.$http.get("/charge/active_bankcard",{data:a},(function(a){2e4==a.data.code&&(a.data.active_bankcard?(t.backAccount=a.data.active_bankcard.ACCOUNT,t.backName=a.data.active_bankcard.NAME):t.backAccount="")}))},chargeSubmit:function(){var t=this.$http.baseUrl;uni.showLoading({title:"upload..."}),uni.uploadFile({url:t+"/charge/apply_charge",filePath:this.imagePath,name:"image",formData:this.form,header:{Authorization:uni.getStorageSync("Authorization")},success:function(t){t.data=JSON.parse(t.data),2e4==t.data.code?uni.showToast({title:"Upload Success!"}):uni.showModal({title:"Tips",showCancel:!1,content:t.data.message})},complete:function(){uni.hideLoading()}})}},mounted:function(){this.getActiveBankCard()}});a.default=c},bb46:function(t,a,e){"use strict";var i=e("2ee5"),n=e.n(i);n.a},ca29:function(t,a,e){"use strict";e.r(a);var i=e("6dba"),n=e("d82b");for(var c in n)["default"].indexOf(c)<0&&function(t){e.d(a,t,(function(){return n[t]}))}(c);e("bb46");var s=e("828b"),o=Object(s["a"])(n["default"],i["b"],i["c"],!1,null,"20f8b894",null,!1,i["a"],void 0);a["default"]=o.exports},d82b:function(t,a,e){"use strict";e.r(a);var i=e("73d5"),n=e.n(i);for(var c in i)["default"].indexOf(c)<0&&function(t){e.d(a,t,(function(){return i[t]}))}(c);a["default"]=n.a}}]);