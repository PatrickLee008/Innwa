(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-ucenter-banks"],{"19a2":function(t,e,a){"use strict";a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("2797"),a("aa9c");var i=n(a("fe36")),s=n(a("ee47")),c={components:{uniPopup:i.default},data:function(){return{language:s.default.language,index:-1,status:"more",page:1,limit:15,list:[],type_list:["KBZ","WaveMoney"],card_conf:{card_type:"KBZ",card_num:""},contentText:{contentdown:"more",contentrefresh:"loading",contentnomore:"no more"}}},methods:{removeBank:function(t){var e=this;if(!e.$toolbox.click_too_fast(.5)){var a={ID:t};this.$http.post("/bank_card/delete",a,(function(t){2e4==t.data.code&&(uni.showToast({title:"delete success",icon:"success",duration:2e3}),e.getList())}))}},setDefault:function(t){var e=this;if(!e.$toolbox.click_too_fast(.5)){var a={ID:t};this.$http.post("/bank_card/set_default",a,(function(t){2e4==t.data.code&&(uni.showToast({title:"set primary card success",icon:"success",duration:2e3}),e.getList())}))}},getList:function(){var t=this,e={page:t.page,limit:t.limit};t.list.length=0,t.$http.get("/bank_card/get",{data:e},(function(e){if(2e4==e.data.code){var a=e.data.bank_cards;a.forEach((function(e){t.list.push(e)})),0==a.length?t.status="noMore":t.status="more"}}))},add:function(){this.$refs.popup.open()},PickerChange:function(t){var e=t.detail.value;this.index=e,this.card_conf.card_type=this.type_list[e]},submit:function(){var t=this,e={CARD_NUM:t.card_conf.card_num,BANK_TYPE:t.card_conf.card_type};t.$http.post("/bank_card/add",e,(function(e){2e4==e.data.code&&(uni.showToast({title:"add success",icon:"success",duration:2e3}),t.getList()),t.$refs.popup.close()}))}},onLoad:function(){this.getList()}};e.default=c},2099:function(t,e,a){t.exports=a.p+"static/icon/add.png"},2144:function(t,e,a){var n=a("c86c");e=n(!1),e.push([t.i,".action[data-v-7feaff44]{width:100px!important}.submit[data-v-7feaff44]{border-radius:0}uni-input[data-v-7feaff44]{background-color:#d3d3d3;height:30px;border-radius:4px;padding-left:5px}.add[data-v-7feaff44]{position:fixed;height:20vw;width:20vw;bottom:2px;left:40vw}.content[data-v-7feaff44]{left:12px!important}.border-bottom[data-v-7feaff44]{border:1px solid #d3d3d3}",""]),t.exports=e},"5c9e":function(t,e,a){var n=a("2144");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("967d").default;i("cd059d7a",n,!0,{sourceMap:!1,shadowMode:!1})},b513:function(t,e,a){"use strict";var n=a("5c9e"),i=a.n(n);i.a},bc1c:function(t,e,a){"use strict";a.r(e);var n=a("c916"),i=a("c28b");for(var s in i)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return i[t]}))}(s);a("b513");var c=a("828b"),o=Object(c["a"])(i["default"],n["b"],n["c"],!1,null,"7feaff44",null,!1,n["a"],void 0);e["default"]=o.exports},c28b:function(t,e,a){"use strict";a.r(e);var n=a("19a2"),i=a.n(n);for(var s in n)["default"].indexOf(s)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(s);e["default"]=i.a},c916:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return s})),a.d(e,"a",(function(){return n}));var n={uniPopup:a("fe36").default},i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-uni-view",[n("cu-custom",{attrs:{bgColor:"bg-purple",isBack:"true"}},[n("template",{attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.language.bank))])],2),n("v-uni-view",{staticClass:"cu-list menu-avatar"},t._l(t.list,(function(e,a){return n("v-uni-view",{key:a,staticClass:"cu-item"},[n("v-uni-view",{staticClass:"content"},[n("v-uni-view",[n("v-uni-text",{staticClass:"margin-right-sm"},[t._v(t._s(e.BANK_TYPE))]),e.PRIMARY_CARD?n("v-uni-text",{staticClass:"cu-tag sm bg-green"},[t._v("default")]):t._e()],1),n("v-uni-view",{staticClass:"text-gray text-sm flex"},[n("v-uni-view",{staticClass:"text-cut"},[n("v-uni-text",{staticClass:"margin-right-xs"},[t._v(t._s(e.CARD_NUM))])],1)],1)],1),n("v-uni-view",{staticClass:"action"},[n("v-uni-button",{staticClass:"cu-btn sm bg-green margin-right-sm cuIcon-check shadow",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.setDefault(e.ID)}}}),n("v-uni-button",{staticClass:"cu-btn sm bg-red cuIcon-delete shadow",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.removeBank(e.ID)}}})],1)],1)})),1),n("v-uni-image",{staticClass:"add",attrs:{src:a("2099")},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.add.apply(void 0,arguments)}}}),n("uni-popup",{ref:"popup",attrs:{type:"center"}},[n("v-uni-view",{staticClass:"bg-white"},[n("v-uni-form",[n("v-uni-view",{staticClass:"cu-form-group border-bottom"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.language.bank))]),n("v-uni-picker",{attrs:{value:t.index,range:t.type_list},on:{change:function(e){arguments[0]=e=t.$handleEvent(e),t.PickerChange.apply(void 0,arguments)}}},[n("v-uni-view",{staticClass:"picker"},[t._v(t._s(t.card_conf.card_type))])],1)],1),n("v-uni-view",{staticClass:"cu-form-group border-bottom"},[n("v-uni-view",{staticClass:"title"},[t._v(t._s(t.language.cartNumber))]),n("v-uni-input",{attrs:{type:"number",placeholder:"please select"},model:{value:t.card_conf.card_num,callback:function(e){t.$set(t.card_conf,"card_num",e)},expression:"card_conf.card_num"}})],1),n("v-uni-button",{staticClass:"bg-purple margin-top-sm submit",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.submit.apply(void 0,arguments)}}},[t._v("Yes")])],1)],1)],1)],1)},s=[]}}]);